# 콘서트 예약 시스템

## 요구 사항
1. 대기열 시스템
    - 토큰 발급 및 검증
    - 대기 순서 관리
    - 10초 마다 10명 입장
    - 토큰 만료 처리 (30분)
    - 최대 동시 입장 인원 관리(500명)
        - 대기열을 통과한 사람이 500명 이상이면 대기열이 줄어 들지 않음
        - 대기중인 사람이 500명 이하며 대기하지 않고 바로 입장
2. 좌석 예약 시스템
    - 좌석 상태 관리 (AVALIABLE, RESERVED, TEMP_RESERVED)
    - 토큰 만료 전까지 좌석 예약 가능
      - 토큰이 만료 되면 에러 반환
    - 임시 예약(AVALIABLE -> TEMP_RESERVED)
    - 동시 예약 방지
3. 결제 시스템
    - 잔액 차감
    - 예약 확정(TEMP_RESERVED -> RESERVED)
    - 대기열 토큰 만료

## 대기열 정책
### 대기열 정책
- 대기열은 10초마다 10명씩 입장시킨다
- 대기 순서는 요청이 오는 순서대로 대기열 순번이 정해진다.

### 토큰 정책
- 토큰은 30분의 만료 시간을 가진다.
- 이 토큰은 대기열에서만 유효한 것이 아닌 좌석 예약에서도 유효하다.
- 토큰은 UUID로 생성된 문자열로 한다.
- 토큰은 각 사용자에게 유일한 값이다.

## 좌석 정책

### 좌석 상태
- AVAILABLE : 좌석 예약 가능 상태
- TEMP_RESERVED : 임시 예약 상태(좌석을 예약하고 결제가 되지 않은 상태)
- RESERVED : 예약 완료 상태(결제까지 완료된 상태)

### 좌석 상태 변환 정책
- AVAILABLE -> TEMP_RESERVED : 좌석 예약 시스템에서 임시 예약이 되었을 때 일어난다.
- TEMP_RESERVED -> RESERVED : 좌석 예약 시스템 에서 예약이 완료 되었을 때 일어난다.
